<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yan Fellippe - Desenvolvedor</title>
    <link rel="stylesheet" href="src/styles/index.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>Yan Fellippe</h1>
            </div>
            <nav class="nav">
                <ul class="nav-list">
                    <li><a href="#home" class="nav-link active">Home</a></li>
                    <li><a href="#repositorios" class="nav-link">Projetos</a></li>
                    <li><a href="#contribuicoes" class="nav-link">Contribui√ß√µes</a></li>
                    <li><a href="public/about-me.html" class="nav-link">Sobre</a></li>
                    <li><a href="public/contact.html" class="nav-link">Contato</a></li>
                </ul>
            </nav>
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </header>

    <!-- Se√ß√£o de Apresenta√ß√£o -->
    <section id="home" class="hero">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h2>Ol√°, eu sou <span class="highlight">Yan Fellippe</span></h2>
                    <p class="hero-description">
                        Desenvolvedor apaixonado por tecnologia, especializado em
                        <strong>JavaScript</strong>, <strong>React</strong>, <strong>Node.js</strong>
                        e <strong>Python</strong>. Sempre em busca de novos desafios e
                        oportunidades para criar solu√ß√µes inovadoras.
                    </p>
                    <div class="hero-buttons">
                        <a href="https://github.com/YanFellippe" target="_blank" class="btn btn-primary">
                            <i class="fab fa-github"></i>
                            Ver GitHub
                        </a>
                        <a href="#repositorios" class="btn btn-secondary">
                            Ver Projetos
                        </a>
                    </div>
                </div>
                <div class="hero-image">
                    <div class="profile-pic">
                        <img src="https://github.com/YanFellippe.png" alt="Yan Fellippe" id="profileImage">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Se√ß√£o de Estat√≠sticas -->
    <section id="estatisticas" class="stats-section">
        <div class="container">
            <h2 class="section-title">Estat√≠sticas</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-code-branch"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="totalRepos">-</h3>
                        <p class="stat-label">Reposit√≥rios</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="totalStars">-</h3>
                        <p class="stat-label">Estrelas</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-code"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="totalLanguages">-</h3>
                        <p class="stat-label">Linguagens</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="lastUpdate">-</h3>
                        <p class="stat-label">√öltima Atualiza√ß√£o</p>
                    </div>
                </div>
            </div>

            <!-- Gr√°fico de Linguagens -->
            <div class="languages-chart-container">
                <h3 class="chart-title">Linguagens Mais Utilizadas</h3>
                <div class="chart-wrapper">
                    <canvas id="languagesChart"></canvas>
                </div>
                <div class="languages-tags" id="languagesTags">
                    <!-- Tags das linguagens ser√£o inseridas aqui -->
                </div>
            </div>
        </div>
    </section>

    <!-- Se√ß√£o de Reposit√≥rios -->
    <section id="repositorios" class="repositories">
        <div class="container">
            <div class="repositories-header">
                <h2 class="section-title">Meus Reposit√≥rios</h2>
                <div class="repo-counter">
                    <span id="repoCounter">Total de - reposit√≥rios</span>
                </div>
            </div>
            <div class="loading" id="loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Carregando reposit√≥rios...</p>
            </div>
            <div class="repositories-grid" id="repositoriesGrid">
                <!-- Os reposit√≥rios ser√£o carregados dinamicamente via JavaScript -->
            </div>
        </div>
    </section>

    <!-- Se√ß√£o de Contribui√ß√µes -->
    <section id="contribuicoes" class="contributions">
        <div class="container">
            <div class="contributions-header">
                <h2 class="section-title">Minhas Contribui√ß√µes</h2>
                <p class="section-subtitle">Reposit√≥rios de outros usu√°rios onde contribu√≠</p>
                <div class="contributions-counter">
                    <span id="contributionsCounter">Carregando contribui√ß√µes...</span>
                </div>
            </div>
            <div class="loading" id="contributionsLoading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Buscando contribui√ß√µes...</p>
            </div>
            <div class="error-message" id="contributionsError" style="display: none;">
                <!-- Mensagem de erro ser√° inserida aqui -->
            </div>
            <div class="contributions-grid" id="contributionsGrid">
                <!-- As contribui√ß√µes ser√£o carregadas dinamicamente via JavaScript -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p class="footer-text">
                    ¬© 2024 <strong>Yan Fellippe</strong> - Desenvolvedor Full Stack
                </p>
                <div class="social-links">
                    <a href="https://github.com/YanFellippe" target="_blank" class="social-link">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="https://www.linkedin.com/in/yan-fellippe-gomes-basilio-3229b81b9/" target="_blank"
                        class="social-link">
                        <i class="fab fa-linkedin"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Script inline para tema (garantir funcionamento) -->
    <script>
        console.log('üé® Inicializando tema inline...');

        // Fun√ß√£o para aplicar tema
        function setTheme(theme) {
            console.log('Aplicando tema:', theme);
            document.body.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);

            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                const icon = themeToggle.querySelector('i');
                if (icon) {
                    icon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
                }
            }
        }

        // Fun√ß√£o para alternar tema
        function toggleTheme() {
            const currentTheme = document.body.getAttribute('data-theme') || 'light';
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            console.log('Alternando tema:', currentTheme, '->', newTheme);
            setTheme(newTheme);
        }

        // Fun√ß√£o de teste r√°pido da API
        async function testAPI() {
            console.log('üß™ Testando API do GitHub...');
            try {
                const response = await fetch('https://api.github.com/users/YanFellippe/repos?per_page=5');
                const repos = await response.json();
                console.log('üì¶ Reposit√≥rios encontrados:', repos.length);
                repos.forEach(repo => {
                    console.log(`- ${repo.name} (${repo.private ? 'privado' : 'p√∫blico'}, fork: ${repo.fork})`);
                });
            } catch (error) {
                console.error('‚ùå Erro na API:', error);
            }
        }

        // Inicializar quando DOM carregar
        document.addEventListener('DOMContentLoaded', function () {
            console.log('DOM carregado - configurando tema...');

            // Aplicar tema salvo
            const savedTheme = localStorage.getItem('theme') || 'light';
            setTheme(savedTheme);

            // Configurar bot√£o
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                console.log('‚úÖ Bot√£o de tema encontrado');
                themeToggle.addEventListener('click', function (e) {
                    e.preventDefault();
                    console.log('üé® Bot√£o clicado!');
                    toggleTheme();
                });
            } else {
                console.error('‚ùå Bot√£o de tema n√£o encontrado');
            }

            // Testar API ap√≥s 2 segundos
            setTimeout(testAPI, 2000);
        });

        // Disponibilizar globalmente
        window.setTheme = setTheme;
        window.toggleTheme = toggleTheme;
        window.testAPI = testAPI;
    </script>

    <script src="src/js/api.js"></script>
    <script src="src/js/contribuitions.js"></script>
    <script src="src/js/index.js"></script>
</body>

</html>